"use strict";(self["webpackChunkcharliecom"]=self["webpackChunkcharliecom"]||[]).push([[227],{9485:function(t,e,a){a.r(e),a.d(e,{default:function(){return d}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"chat-detail"},[e("div",{ref:"chatBg",staticClass:"chat-detail-bg",on:{click:function(e){return e.stopPropagation(),t.choiceChoose.apply(null,arguments)}}},[e("main",{staticClass:"ch-detail-main"},[e("a",{staticClass:"ch-detail-video",attrs:{target:"_blank",href:"http://www.bilibili.com"}}),e("div",{staticClass:"ch-detail-design"},[t._v(" Moments of Charlie")]),t._l(t.chDetailData,(function(i,s){return e("section",{directives:[{name:"show",rawName:"v-show",value:s<t.contentIndex,expression:"index<contentIndex"}],key:s,staticClass:"ch-detail-section"},[e("div",{staticClass:"ch-dt-sec-header",attrs:{"data-person":i.speaker}},[e("picture",{attrs:{"data-person":i.speaker}},[e("img",{staticClass:"ch-dt-header-img",attrs:{src:a(2795),alt:""}})])]),e("div",{staticClass:"ch-dt-sec-main",on:{click:function(t){t.stopPropagation()}}},[t._l(i.content,(function(a,s){return e("div",{key:"fi"+s},["nomarl"===i.type?e("div",{staticClass:"ch-dt-normal-text"},[a.ifImg?e("img",{attrs:{src:a.imgPath,alt:""}}):a.ifCall?e("video-call",{staticClass:"ch-video-call",attrs:{callName:a.call.title,vcCode:a.call.callCode,callUrl:a.call.url}}):a.ifVoice?e("div",{staticClass:"ch-voice-message"},[e("h6",{staticClass:"ch-voime-title"},[t._v("语音")]),e("p",{staticClass:"ch-voime-p"},[t._v(t._s(a.contentText))])]):e("p",[t._v(t._s(a.contentText))])],1):t._e()])})),"choice"===i.type?e("div",{on:{click:function(t){t.stopPropagation()}}},[e("el-collapse",{attrs:{accordion:""},model:{value:t.deActiveName[s],callback:function(e){t.$set(t.deActiveName,s,e)},expression:"deActiveName[index]"}},t._l(i.content,(function(a,i){return e("el-collapse-item",{key:i,attrs:{name:"id"+s+i}},[e("span",{staticClass:"collapse-title",attrs:{slot:"title"},slot:"title"},[e("i",{class:["el-icon-d-arrow-right ch-title-icon ",{"ch-title-icon-active":"id"+s+i===t.deActiveName}]}),a.ifImg?t._e():e("p",[t._v(t._s(a.contentText))]),a.ifImg?e("img",{staticClass:"ch-title-img",attrs:{src:a.imgPath,alt:""}}):t._e()]),t._l(a.reply,(function(a,i){return e("div",{key:i,staticClass:"ch-dt-nd-reply"},[e("span",{staticClass:"purple"},[t._v("查理苏")]),a.ifVoice?e("div",{staticClass:"ch-voice-message"},[e("h6",{staticClass:"ch-voime-title"},[t._v("语音")]),e("p",{staticClass:"ch-voime-p"},[t._v(t._s(a.contentText))])]):a.ifImg?e("img",{attrs:{src:a.imgPath,alt:""}}):e("p",[t._v("："+t._s(a.contentText))])])}))],2)})),1)],1):t._e()],2)])}))],2)])])},s=[],c=a(5809),l=a(5084),n={components:{VideoCall:c.Z},props:{},data(){return{deActiveName:[],chDetailData:[],contentIndex:1}},mounted(){console.log(this.$route.query.name)},activated(){this.getContent()},methods:{choiceChoose(){let t=this.$refs.chatBg;this.contentIndex<this.chDetailData.length&&this.contentIndex++,this.$nextTick((()=>{t.scrollTo({top:t.scrollHeight,behavior:"smooth"})}))},getContent(){this.contentIndex=1,this.deActiveName=[],this.chDetailData=[],(0,l.mb)({indexcode:this.$route.query.name}).then((t=>{console.log(t.chatHistory),this.chDetailData=t.chatHistory}))}}},o=n,r=a(1001),h=(0,r.Z)(o,i,s,!1,null,"725837f4",null),d=h.exports}}]);